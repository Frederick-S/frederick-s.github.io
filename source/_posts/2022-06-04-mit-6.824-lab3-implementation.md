title: "MIT 6.824 - Lab 3 (2): 实现"
tags:
- MIT 6.824
- Go
- Raft
- Distributed Systems
---

`Lab 3` 需要我们实现一个基于 `Raft` 的键值数据库，支持三个操作：

* `Put(key, value)`
* `Append(key, value)`
* `Get(key)`

## 3A
### 客户端
客户端要做的只有一件事，就是向某个服务端发送请求。不过由于客户端不知道哪个服务端是主节点，所以需要不断轮询各服务端发送请求。为了避免每次轮询所有服务端浪费时间，客户端可以记录每次请求成功后的服务端编号，这个服务端就是当次请求中的主节点；当客户端再次发起请求时，可以先假定之前的服务端依然是主节点，从而先向该服务端发送请求，如果请求失败并返回非主节点异常，则再尝试下一个服务端。

## 3B

## 参考
* [6.824 Lab 3: Fault-tolerant Key/Value Service](https://pdos.csail.mit.edu/6.824/labs/lab-kvraft.html)