title: 'MIT 6.824 - Spanner: Google’s Globally-Distributed Database'
tags:
- MIT 6.824
- Paper
- Distributed Systems
- Spanner
---

## 介绍
`Spanner` 是一个由 `Google` 设计，构建和部署的可扩展的全球分布式数据库。从高层次的抽象来看，作为一个数据库，`Spanner` 将数据进行分片，每个分片构建在一组 `Paxos` 状态机之上，同时所有的数据存储在世界各地的各个数据中心内。`Spanner` 使用副本来保证数据库的全球可用性和客户端读取数据的就近访问性；客户端也能自动的在各个副本之间实现故障转移。当数据量或者服务器数量发生变化时，`Spanner` 能自动的跨服务器对数据进行重分区；同时，`Spanner` 也能自动的跨服务器（甚至是跨数据中心）迁移数据来达成负载均衡或者应对异常。`Spanner` 的扩展性能够支持上百个数据中心的几百万台服务器，以及几万亿的数据行。

应用程序可以借助 `Spanner` 来确保高可用，即使是面对大面积的自然灾害，也可以通过将数据存储在单个大洲或者跨大洲的多个数据中心来保证容错。`Spanner` 的第一个客户是 `F1`，`F1` 是 `Google` 广告后端的一个重构项目。`F1` 的每份数据在美国境内存有5个副本。大部分其他的应用程序一般会将数据备份在同一个地理区域内的3到5个数据中心中，不过这在应对极端灾害时容错性要略差一些。因为在能够容忍1到2个数据中心异常的情况下，大多数的应用程序相比于高可用更看重低延迟。

## 参考
* [Spanner: Google’s Globally-Distributed Database](https://pdos.csail.mit.edu/6.824/papers/spanner.pdf)
* [Benefits of Cloud Spanner replication](https://cloud.google.com/spanner/docs/replication#benefits_of_cloud_spanner_replication)